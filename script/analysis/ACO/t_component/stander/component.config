component stander

/****************************************************
	网页程序分为头部分，尾部分 头部分分为协议头，脚本头 样式头
	正常程序分为库头，标准类头

	我们这里涉及头部分需要一些关键词来定义这些东西

	此部分定义根据如何来灵活定制。并能把规则应用于其他的模块中。
	可以考虑增加一组或者几组模式来改变。

*****************************************************/
	function display_body(child){
		token.bodycontent = child;
	}

	function display_frameset(child){
		token.frameset = child;
	}
	function display_js(child){
		token.js_.custom_ = child;
	}


lib
	#token 对象,定义一个基本的对象，用来和模版来配合
	/***********************************************
		一组token对应一个python对象dict 内嵌的对应更深一层次的dict对象，用于和模版进行替换
	************************************************/
	token = {
		doc_ = '<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">';
		htmlbegin_ = '<html>';
		htmlend_ = '</html>';
		headbegin_ = '<head>';
		headend_  = '</head>';
		base_ = '<base href="<%=basePath%>">';
		jsphead_ = {
			jsp_ = '<%@ page language="java" import="java.util.*" pageEncoding="utf-8"%>';
			code_ = '<%'+
					'	String path = request.getContextPath();'+
					'	String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";'+
					'%>';

		};

		titlebegin_ ='<title>';
		titleend_ = '</title>';
		css_ = {
			jqueryui_ = '<link rel="stylesheet" href="themes/base/jquery.ui.all.css" />';
			jquery1_ = '<link type="text/css" href="css/all.css" rel="stylesheet" />';
			jquery2_ = '<link type="text/css" href="css/test01.css" rel="stylesheet" />';
		};
		js_ = {
			jquery_ = '<script src="jslib/jquery-1.4.4.js" type="text/javascript"></script>\n<script src="ui/jquery.ui.core.js"></script>\n<script src="ui/jquery.ui.widget.js"></script>';
			custom_ = ''
		};
		meta_ = {
			charcode_ = '<meta http-equiv="Content-Type" content="application/x-www-form-urlencoded; charset=UTF-8"/>';
		};
		bodybegin_ = '<body>';
		bodycontent = '';
		frameset = '';
		bodyend_ = '</body>';
	};


end;

out
#javascript

javascript = {
	#系统生成段
	init= '.\\jscom\\init.js';
	form= '.\\jscom\\form.js';
	check='.\\jscom\\check.js';
	/*
		如果系统定义为
	*/
	#自定义段
	cutm_init = '.\\jscutm\\init.js';
	cutm_form = '.\\jscutm\\form.js';
	cutm_check = '.\\jscutm\\check.js';
}

end;


